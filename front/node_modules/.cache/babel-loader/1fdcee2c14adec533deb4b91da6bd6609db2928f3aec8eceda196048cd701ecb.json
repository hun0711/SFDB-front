{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/carax/Desktop/SideProject/SFDB-Project/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/carax/Desktop/SideProject/SFDB-Project/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/carax/Desktop/SideProject/SFDB-Project/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Typography}from'@mui/material';import React,{useEffect,useState}from'react';import{getYouTubeVideoByQuery}from'../../utils/youtubeApi';import config from'../../config';import{getGoogleImageApi}from'../../utils/googleImageApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MovieDetailBtmSection2=function MovieDetailBtmSection2(_ref){var movieDetail=_ref.movieDetail;var title=movieDetail.title;var titleOrg=movieDetail.titleOrg;var prodYear=movieDetail.prodYear;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),trailerId=_useState2[0],setTrailerId=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),imageUrls=_useState4[0],setImageUrls=_useState4[1];useEffect(function(){var searchMovieStills=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var query,imageResults;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;query=titleOrg+prodYear+' stills';_context.next=4;return getGoogleImageApi(query);case 4:imageResults=_context.sent;console.log(imageResults);setImageUrls(imageResults.map(function(result){return result.link;}));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(\"영화 스틸컷 검색 실패 : \",_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function searchMovieStills(){return _ref2.apply(this,arguments);};}();if(title!==undefined&&prodYear!==undefined){searchMovieStills();}},[title,prodYear]);useEffect(function(){var searchMovieTrailer=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var query,searchResults,topVideo;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;query='영화 '+titleOrg+prodYear+' 예고편';_context2.next=4;return getYouTubeVideoByQuery(query);case 4:searchResults=_context2.sent;if(searchResults&&searchResults.items&&searchResults.items.length>0){topVideo=searchResults.items[0];setTrailerId(topVideo.id.videoId);}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log('영화 예고편 검색 실패 : ',_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function searchMovieTrailer(){return _ref3.apply(this,arguments);};}();if(title!==undefined&&prodYear!==undefined){searchMovieTrailer();}},[title,prodYear]);//Youtube 동영상 뷰어\nvar openYoutubePlayer=function openYoutubePlayer(){if(trailerId){window.open(\"https://www.youtube.com/embed/\".concat(trailerId),'_blank');}};{/* Style */}var btmSection2Style={marginLeft:'100px',marginTop:'30px',marginBottom:'100px',maxWidth:'1500px',minHeight:'800px',maxHeight:'1000px'};var stillSectionStyle={marginTop:'30px',marginLeft:'20px',maxWidth:'1500px',maxHeight:'500px'};var stillStyle={width:'100%',objectFit:'cover',minWidth:'400px',maxWidth:'400px',height:'250px',minHeight:'250px',maxHeight:'250px',marginRight:'40px',borderRadius:'5px'};var videoStyle={marginTop:'30px',marginLeft:'20px',width:'500px',minWidth:'300px',maxWidth:'400px',height:'350px',minHeight:'350px',maxHeight:'500px'};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:btmSection2Style,children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:{fontSize:'25px'},children:\"\\uAC24\\uB7EC\\uB9AC\"})}),/*#__PURE__*/_jsx(\"div\",{style:stillSectionStyle,children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row',overflowX:'auto'},children:imageUrls.map(function(imageUrl,index){return/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"Image \".concat(index+1),style:stillStyle},index);})})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',marginTop:'120px'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:{fontSize:'25px'},children:\"\\uB3D9\\uC601\\uC0C1\"})}),/*#__PURE__*/_jsx(\"div\",{style:videoStyle,children:trailerId&&/*#__PURE__*/_jsx(\"iframe\",{width:\"100%\",height:\"100%\",src:\"https://www.youtube.com/embed/\".concat(trailerId),allowFullScreen:true,style:{border:'none',borderRadius:'5px'}})})]})});};export default MovieDetailBtmSection2;","map":{"version":3,"names":["Typography","React","useEffect","useState","getYouTubeVideoByQuery","config","getGoogleImageApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MovieDetailBtmSection2","_ref","movieDetail","title","titleOrg","prodYear","_useState","_useState2","_slicedToArray","trailerId","setTrailerId","_useState3","_useState4","imageUrls","setImageUrls","searchMovieStills","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","imageResults","wrap","_callee$","_context","prev","next","sent","console","log","map","result","link","t0","stop","apply","arguments","undefined","searchMovieTrailer","_ref3","_callee2","searchResults","topVideo","_callee2$","_context2","items","length","id","videoId","openYoutubePlayer","window","open","concat","btmSection2Style","marginLeft","marginTop","marginBottom","maxWidth","minHeight","maxHeight","stillSectionStyle","stillStyle","width","objectFit","minWidth","height","marginRight","borderRadius","videoStyle","children","style","display","alignItems","variant","fontSize","flexDirection","overflowX","imageUrl","index","src","alt","allowFullScreen","border"],"sources":["C:/Users/carax/Desktop/SideProject/SFDB-Project/front/src/pages/detail/MovieDetailBtmSection2.jsx"],"sourcesContent":["import { Typography } from '@mui/material'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { getYouTubeVideoByQuery } from '../../utils/youtubeApi'; \r\nimport config from '../../config';\r\nimport { getGoogleImageApi } from '../../utils/googleImageApi';\r\n\r\nconst MovieDetailBtmSection2 = ({ movieDetail }) => {\r\n  const title = movieDetail.title\r\n  const titleOrg = movieDetail.titleOrg\r\n  const prodYear = movieDetail.prodYear\r\n  const [trailerId, setTrailerId] = useState(null);\r\n  const [imageUrls, setImageUrls] = useState([])\r\n\r\n  \r\n  \r\n  useEffect(() => {\r\n    const searchMovieStills = async () => {\r\n      try{\r\n        const query = titleOrg + prodYear + ' stills'\r\n        const imageResults = await getGoogleImageApi(query)\r\n        console.log(imageResults);\r\n        setImageUrls(imageResults.map((result) => result.link))\r\n      }catch(error){\r\n        console.log(\"영화 스틸컷 검색 실패 : \", error);\r\n      }\r\n    }\r\n    if (title !== undefined && prodYear !== undefined) {\r\n      searchMovieStills()\r\n    }\r\n  },[title, prodYear]);\r\n\r\n\r\n  useEffect(() => {\r\n    const searchMovieTrailer = async () => {\r\n      try {\r\n        const query = '영화 ' + titleOrg + prodYear + ' 예고편';\r\n        const searchResults = await getYouTubeVideoByQuery(query)\r\n        if(searchResults && searchResults.items && searchResults.items.length > 0) {\r\n          const topVideo = searchResults.items[0];\r\n          setTrailerId(topVideo.id.videoId)\r\n        }\r\n      } catch (error) {\r\n        console.log('영화 예고편 검색 실패 : ', error);\r\n      } \r\n    }\r\n    if (title !== undefined && prodYear !== undefined) {\r\n      searchMovieTrailer()\r\n    }\r\n  },[title, prodYear]);\r\n\r\n  //Youtube 동영상 뷰어\r\n    const openYoutubePlayer = () => {\r\n      if (trailerId) {\r\n        window.open(`https://www.youtube.com/embed/${trailerId}`, '_blank');\r\n      }\r\n    };\r\n    \r\n  {/* Style */}\r\n  const btmSection2Style = {\r\n    marginLeft: '100px',\r\n    marginTop: '30px',\r\n    marginBottom : '100px',\r\n    maxWidth: '1500px',\r\n    minHeight: '800px',\r\n    maxHeight: '1000px',\r\n  } \r\n  \r\n  const stillSectionStyle = {\r\n    marginTop: '30px',\r\n    marginLeft: '20px',\r\n    maxWidth: '1500px',\r\n    maxHeight: '500px'\r\n  }\r\n\r\n  const stillStyle = {\r\n    width: '100%', \r\n    objectFit: 'cover',\r\n    minWidth: '400px',\r\n    maxWidth: '400px',\r\n    height:'250px',\r\n    minHeight: '250px',\r\n    maxHeight: '250px',\r\n    marginRight: '40px',\r\n    borderRadius : '5px'\r\n  }\r\n\r\n  const videoStyle = {\r\n    marginTop: '30px',\r\n    marginLeft: '20px',\r\n    width: '500px',\r\n    minWidth: '300px',\r\n    maxWidth: '400px',\r\n    height: '350px',\r\n    minHeight: '350px',\r\n    maxHeight: '500px'\r\n  } \r\n  return (\r\n    <> \r\n    <div style={btmSection2Style}>\r\n      {/* 갤러리 div */}\r\n    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n        <Typography variant=\"h4\" style={{ fontSize: '25px' }}>\r\n          갤러리\r\n        </Typography>\r\n        </div>  \r\n        <div style={stillSectionStyle}>\r\n        <div style={{ display: 'flex', flexDirection: 'row', overflowX: 'auto' }}>\r\n        {imageUrls.map((imageUrl, index) => (\r\n          <img\r\n          key={index}\r\n          src={imageUrl}\r\n          alt={`Image ${index + 1}`}\r\n          style={stillStyle}\r\n          />\r\n          ))}\r\n          </div>\r\n          </div>\r\n\r\n{/* 동영상 div */}\r\n    <div style={{ display: 'flex', alignItems: 'center' , marginTop:'120px'}}>\r\n        <Typography variant=\"h4\" style={{ fontSize: '25px' }}>\r\n          동영상 \r\n        </Typography>\r\n        </div>\r\n    \r\n   <div style={videoStyle}>\r\n   {/* 동영상 삽입 */}\r\n   {trailerId && (\r\n            <iframe\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              src={`https://www.youtube.com/embed/${trailerId}`}\r\n              allowFullScreen\r\n              style={{ border: 'none', borderRadius: '5px' }} \r\n            ></iframe>\r\n          )}\r\n   </div>\r\n\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MovieDetailBtmSection2"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}