{"ast":null,"code":"import _objectSpread from\"C:/Users/carax/Desktop/SideProject/reactfront/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/carax/Desktop/SideProject/reactfront/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/carax/Desktop/SideProject/reactfront/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/carax/Desktop/SideProject/reactfront/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{todayBoxofficeDB}from'../../axios/main/movieLogic';import{Card,CardContent,Grid,IconButton,Tooltip,Typography}from'@mui/material';import InfoIcon from'@mui/icons-material/Info';import Slider from'react-slick';import{useNavigate}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MainBtmSection=function MainBtmSection(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todayBoxofficeRank=_useState2[0],setTodayBoxofficeRank=_useState2[1];var navigate=new useNavigate();useEffect(function(){var getTodayBoxofficeRank=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return todayBoxofficeDB();case 3:res=_context.sent;setTodayBoxofficeRank(res);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log('박스오피스 정보 로드 실패 : ',_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getTodayBoxofficeRank(){return _ref.apply(this,arguments);};}();getTodayBoxofficeRank();},[]);var settings={dots:true,arrows:true,infinite:true,speed:500,slidesToShow:5,slidesToScroll:5};//박스오피스 기준 날짜 변환\nvar today=new Date();var yesterday=new Date(today);yesterday.setDate(yesterday.getDate()-1);var formattedYesterday=\"\".concat(yesterday.getFullYear(),\"-\").concat((yesterday.getMonth()+1).toString().padStart(2,'0'),\"-\").concat(yesterday.getDate().toString().padStart(2,'0'));var boxofficeInfo=formattedYesterday+' 기준 박스오피스 순위입니다.';//관객수 표기\nvar formatAudience=function formatAudience(audience){if(audience>=10000){var tenThousand=Math.floor(audience/10000);return\"\".concat(tenThousand,\"\\uB9CC \\uBA85\");}else{return audience.toLocaleString()+' 명';}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',marginBottom:'16px',marginRight:'1220px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontSize:25},children:\"\\uBC15\\uC2A4\\uC624\\uD53C\\uC2A4 \\uC21C\\uC704\"}),/*#__PURE__*/_jsx(Tooltip,{title:boxofficeInfo,placement:\"right\",children:/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(InfoIcon,{})})})]}),/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},settings),{},{children:todayBoxofficeRank.map(function(movie,index){return/*#__PURE__*/_jsx(\"div\",{style:{position:'relative'},children:/*#__PURE__*/_jsxs(Card,{sx:{maxWidth:250,height:450,mx:2,border:'none',margin:'0 auto'},onClick:function onClick(){return navigate(\"/boxofficeDetail/\".concat(movie.movieId).concat(movie.movieSeq));},children:[/*#__PURE__*/_jsx(\"img\",{src:movie.poster,alt:movie.title,style:{width:'100%',height:'350px',borderRadius:'3px 3px 3px 3px'}}),/*#__PURE__*/_jsxs(CardContent,{style:{border:'none',display:'flex',flexDirection:'column',justifyContent:'flex-start'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{fontSize:15},children:movie.title.length>15?\"\".concat(movie.title.slice(0,15),\"...\"):movie.title}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-start\",style:{marginTop:'5px'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[movie.prodYear,\" \\xB7 \",movie.nation]})}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",style:{marginTop:'5px'},children:[\" \\uC608\\uB9E4\\uC728 \",movie.salesShare,\"% \\xB7 \\uAD00\\uAC1D \",formatAudience(parseInt(movie.audiAcc)),\" \"]})]})]})},index);})}))]})});};export default MainBtmSection;","map":{"version":3,"names":["React","useEffect","useState","todayBoxofficeDB","Card","CardContent","Grid","IconButton","Tooltip","Typography","InfoIcon","Slider","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainBtmSection","_useState","_useState2","_slicedToArray","todayBoxofficeRank","setTodayBoxofficeRank","navigate","getTodayBoxofficeRank","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","sent","t0","console","log","stop","apply","arguments","settings","dots","arrows","infinite","speed","slidesToShow","slidesToScroll","today","Date","yesterday","setDate","getDate","formattedYesterday","concat","getFullYear","getMonth","toString","padStart","boxofficeInfo","formatAudience","audience","tenThousand","Math","floor","toLocaleString","children","style","display","alignItems","justifyContent","marginBottom","marginRight","variant","sx","fontSize","title","placement","_objectSpread","map","movie","index","position","maxWidth","height","mx","border","margin","onClick","movieId","movieSeq","src","poster","alt","width","borderRadius","flexDirection","length","slice","container","marginTop","prodYear","nation","salesShare","parseInt","audiAcc"],"sources":["C:/Users/carax/Desktop/SideProject/reactfront/front/src/pages/main/MainBtmSection.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { todayBoxofficeDB } from '../../axios/main/movieLogic'\r\nimport { Card, CardContent, Grid, IconButton, Tooltip, Typography } from '@mui/material'\r\nimport InfoIcon from '@mui/icons-material/Info';\r\nimport Slider from 'react-slick'\r\nimport { useNavigate } from 'react-router';\r\n\r\nconst MainBtmSection = () => {\r\n  const [todayBoxofficeRank , setTodayBoxofficeRank] = useState([])\r\n  const navigate = new useNavigate()\r\n\r\n  useEffect(() => {\r\n      const getTodayBoxofficeRank = async() => {\r\n        try {\r\n          const res = await todayBoxofficeDB()\r\n          setTodayBoxofficeRank(res)  \r\n        } catch (error) {\r\n        console.log('박스오피스 정보 로드 실패 : ' , error);\r\n      }\r\n    }\r\n    \r\n    getTodayBoxofficeRank()\r\n  },[])\r\n  \r\n  const settings = {\r\n    dots: true,\r\n    arrows : true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 5,\r\n    slidesToScroll: 5\r\n  };\r\n\r\n  //박스오피스 기준 날짜 변환\r\n  const today = new Date();\r\n  const yesterday = new Date(today);\r\n  yesterday.setDate(yesterday.getDate() - 1);\r\n  const formattedYesterday = `${yesterday.getFullYear()}-${(yesterday.getMonth() + 1).toString().padStart(2, '0')}-${yesterday.getDate().toString().padStart(2, '0')}`;\r\n  const boxofficeInfo = formattedYesterday + ' 기준 박스오피스 순위입니다.';\r\n\r\n\r\n  //관객수 표기\r\n  const formatAudience = (audience) => {\r\n    if (audience >= 10000) {\r\n      const tenThousand = Math.floor(audience / 10000);\r\n        return `${tenThousand}만 명`;\r\n    } else {\r\n      return audience.toLocaleString() + ' 명';\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n <> \r\n    <div>\r\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '16px' , marginRight:'1220px' }}>\r\n        <Typography variant=\"h6\" sx={{ fontSize: 25 }}>박스오피스 순위</Typography>\r\n        <Tooltip title={boxofficeInfo} placement=\"right\">\r\n          <IconButton>\r\n            <InfoIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </div>\r\n    <Slider {...settings}>\r\n      {todayBoxofficeRank.map((movie, index) => (\r\n        <div key={index} style={{ position: 'relative' }}>\r\n          <Card sx={{ maxWidth: 250, height: 450 ,mx: 2 , border:'none' , margin: '0 auto'}}\r\n          onClick={() => navigate(`/boxofficeDetail/${movie.movieId}${movie.movieSeq}`)}>\r\n            <img src={movie.poster} alt={movie.title} style={{ width: '100%', height: '350px' , borderRadius:'3px 3px 3px 3px' }} />\r\n            <CardContent style={{ border:'none', display: 'flex', flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n              <Typography variant=\"subtitle2\" sx={{fontSize:15}}>{movie.title.length > 15 ? `${movie.title.slice(0, 15)}...` : movie.title}</Typography>\r\n              <Grid container justifyContent=\"flex-start\" style={{marginTop:'5px'}}>\r\n  <Typography variant=\"body2\">{movie.prodYear} · {movie.nation}</Typography>\r\n</Grid>\r\n<Typography variant=\"caption\" style={{marginTop:'5px'}}> 예매율 {movie.salesShare}% · 관객 {formatAudience(parseInt(movie.audiAcc))} </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      ))}\r\n    </Slider>\r\n  </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MainBtmSection"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}